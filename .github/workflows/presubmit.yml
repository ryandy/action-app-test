name: Presubmit

on:
  pull_request:
    branches: [ master ]

jobs:
  build-linux:
    runs-on: ubuntu-latest
    steps:
    - run: env && sleep 60

  build-mac:
    runs-on: macos-latest
    steps:
    - run: env

  build-win:
    runs-on: windows-2019
    steps:
    - run: ls

  test:
    needs:
    - build-linux
    - build-mac
    - build-win
    runs-on: ubuntu-latest
    steps:
    - run: env
